{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = RegisterScreen;\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativePaper = require(\"react-native-paper\");\n\nvar _Background = _interopRequireDefault(require(\"../components/Background\"));\n\nvar _Logo = _interopRequireDefault(require(\"../components/Logo\"));\n\nvar _Header = _interopRequireDefault(require(\"../components/Header\"));\n\nvar _Button = _interopRequireDefault(require(\"../components/Button\"));\n\nvar _TextInput = _interopRequireDefault(require(\"../components/TextInput\"));\n\nvar _BackButton = _interopRequireDefault(require(\"../components/BackButton\"));\n\nvar _Theme = require(\"../core/Theme\");\n\nvar _emailValidator = require(\"../helpers/emailValidator\");\n\nvar _passwordValidator = require(\"../helpers/passwordValidator\");\n\nvar _actionAuths = require(\"../redux/actions/actionAuths\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _jsxFileName = \"/Users/kevin/Desktop/group-1010001/front-mobile-gpe/screens/Register.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction RegisterScreen(_ref) {\n  var navigation = _ref.navigation;\n  var dispatch = (0, _reactRedux.useDispatch)();\n\n  var _useState = (0, _react.useState)({\n    value: 'wiem',\n    error: ''\n  }),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = (0, _react.useState)({\n    value: 'wiem@wiem.com',\n    error: ''\n  }),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = (0, _react.useState)({\n    value: 'wiem111',\n    error: ''\n  }),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var onSignUpPressed = function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* () {\n      var emailError = (0, _emailValidator.emailValidator)(email.value);\n      var passwordError = (0, _passwordValidator.passwordValidator)(password.value);\n\n      if (emailError || passwordError) {\n        setName(Object.assign({}, name, {\n          error: nameError\n        }));\n        setEmail(Object.assign({}, email, {\n          error: emailError\n        }));\n        setPassword(Object.assign({}, password, {\n          error: passwordError\n        }));\n        return;\n      }\n\n      try {\n        var response = yield dispatch((0, _actionAuths.actionSignup)());\n        console.log(response);\n      } catch (error) {\n        console.log(error);\n        alert(error);\n      }\n\n      navigation.reset({\n        index: 0,\n        routes: [{\n          name: 'Home'\n        }]\n      });\n    });\n\n    return function onSignUpPressed() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return (0, _jsxRuntime.jsxs)(_Background.default, {\n    children: [(0, _jsxRuntime.jsx)(_BackButton.default, {\n      goBack: navigation.goBack\n    }), (0, _jsxRuntime.jsx)(_Logo.default, {}), (0, _jsxRuntime.jsx)(_Header.default, {\n      children: \"Create Account\"\n    }), (0, _jsxRuntime.jsx)(_TextInput.default, {\n      label: \"Email\",\n      returnKeyType: \"next\",\n      value: email.value,\n      onChangeText: function onChangeText(text) {\n        return setEmail({\n          value: text,\n          error: ''\n        });\n      },\n      error: !!email.error,\n      errorText: email.error,\n      autoCapitalize: \"none\",\n      autoCompleteType: \"email\",\n      textContentType: \"emailAddress\",\n      keyboardType: \"email-address\"\n    }), (0, _jsxRuntime.jsx)(_TextInput.default, {\n      label: \"Password\",\n      returnKeyType: \"done\",\n      value: password.value,\n      onChangeText: function onChangeText(text) {\n        return setPassword({\n          value: text,\n          error: ''\n        });\n      },\n      error: !!password.error,\n      errorText: password.error,\n      secureTextEntry: true\n    }), (0, _jsxRuntime.jsx)(_Button.default, {\n      mode: \"contained\",\n      onPress: onSignUpPressed,\n      style: {\n        marginTop: 24\n      },\n      children: \"Sign Up\"\n    }), (0, _jsxRuntime.jsxs)(_reactNative.View, {\n      style: styles.row,\n      children: [(0, _jsxRuntime.jsx)(_reactNativePaper.Text, {\n        children: \"Already have an account? \"\n      }), (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.replace('Login');\n        },\n        children: (0, _jsxRuntime.jsx)(_reactNativePaper.Text, {\n          style: styles.link,\n          children: \"Login\"\n        })\n      })]\n    })]\n  });\n}\n\nvar styles = _reactNative.StyleSheet.create({\n  row: {\n    flexDirection: 'row',\n    marginTop: 4\n  },\n  link: {\n    fontWeight: 'bold',\n    color: _Theme.theme.colors.primary\n  }\n});","map":{"version":3,"names":["RegisterScreen","navigation","dispatch","useDispatch","useState","value","error","name","setName","email","setEmail","password","setPassword","onSignUpPressed","emailError","emailValidator","passwordError","passwordValidator","nameError","response","actionSignup","console","log","alert","reset","index","routes","goBack","text","marginTop","styles","row","replace","link","StyleSheet","create","flexDirection","fontWeight","color","theme","colors","primary"],"sources":["/Users/kevin/Desktop/group-1010001/front-mobile-gpe/screens/Register.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { View, StyleSheet, TouchableOpacity } from 'react-native'\nimport { Text } from 'react-native-paper'\nimport Background from '../components/Background'\nimport Logo from '../components/Logo'\nimport Header from '../components/Header'\nimport Button from '../components/Button'\nimport TextInput from '../components/TextInput'\nimport BackButton from '../components/BackButton'\nimport { theme } from '../core/Theme'\nimport { emailValidator } from '../helpers/emailValidator'\nimport { passwordValidator } from '../helpers/passwordValidator'\nimport { actionSignup, actionAuth, actionLogin } from '../redux/actions/actionAuths'\nimport { useDispatch } from 'react-redux';\n\nexport default function RegisterScreen({ navigation }) {\n  const dispatch = useDispatch();\n\n  const [name, setName] = useState({ value: 'wiem', error: '' })\n  const [email, setEmail] = useState({ value: 'wiem@wiem.com', error: '' })\n  const [password, setPassword] = useState({ value: 'wiem111', error: '' })\n\n  const onSignUpPressed = async () => {\n   // const nameError = nameValidator(name.value)\n    const emailError = emailValidator(email.value)\n    const passwordError = passwordValidator(password.value)\n    if (emailError || passwordError ) {\n      setName({ ...name, error: nameError })\n      setEmail({ ...email, error: emailError })\n      setPassword({ ...password, error: passwordError })\n      return\n    }\n\n    try {\n      const response = await dispatch(actionSignup());\n      console.log(response)\n  } catch (error) {\n      console.log(error)\n      alert(error)\n  }\n\n    navigation.reset({\n      index: 0,\n      routes: [{ name: 'Home' }],\n    })\n  }\n\n  return (\n    <Background>\n      <BackButton goBack={navigation.goBack} />\n      <Logo />\n      <Header>Create Account</Header>\n      <TextInput\n        label=\"Email\"\n        returnKeyType=\"next\"\n        value={email.value}\n        onChangeText={(text) => setEmail({ value: text, error: '' })}\n        error={!!email.error}\n        errorText={email.error}\n        autoCapitalize=\"none\"\n        autoCompleteType=\"email\"\n        textContentType=\"emailAddress\"\n        keyboardType=\"email-address\"\n      />\n      <TextInput\n        label=\"Password\"\n        returnKeyType=\"done\"\n        value={password.value}\n        onChangeText={(text) => setPassword({ value: text, error: '' })}\n        error={!!password.error}\n        errorText={password.error}\n        secureTextEntry\n      />\n      <Button\n        mode=\"contained\"\n        onPress={onSignUpPressed}\n        style={{ marginTop: 24 }}\n      >\n        Sign Up\n      </Button>\n      <View style={styles.row}>\n        <Text>Already have an account? </Text>\n        <TouchableOpacity onPress={() => navigation.replace('Login')}>\n          <Text style={styles.link}>Login</Text>\n        </TouchableOpacity>\n      </View>\n    </Background>\n  )\n}\n\nconst styles = StyleSheet.create({\n  row: {\n    flexDirection: 'row',\n    marginTop: 4,\n  },\n  link: {\n    fontWeight: 'bold',\n    color: theme.colors.primary,\n  },\n})"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}